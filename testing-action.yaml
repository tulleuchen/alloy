name: "testing action"
description: "Testing-Prepare npm and install dependencies"
inputs:
  BEANSTALK_APP:  # application name
    description: 'BEANSTALK_APP'
    required: true
  BEANSTALK_ENV:  # environment name
    description: 'BEANSTALK_ENV'
    required: true
    default: 'devops'
outputs:
  copied-files: 
    description: "Number of files copied"
    value: ${{ steps.testing-action-id.outputs.MY_OUTPUT_VARIABLE }}

runs:
  using: "composite"
  steps:
    # - name: Cache npm cache
    #   uses: actions/cache@v2
    #   env:
    #     cache-name: npm-cache
    #   with:
    #     path: ~/.npm
    #     key: ${{ runner.os }}-${{ github.repository }}-${{ env.cache-name }}-${{ hashFiles('**/package-lock.json') }}
    #     restore-keys: |
    #       ${{ runner.os }}-${{ github.repository }}-${{ env.cache-name }}-
    #       ${{ runner.os }}-${{ github.repository }}-
    - name: Testing Action
      shell: bash
    - id: testing-action-id
      run: | 
        echo "Testing Action Hello World"
        echo "::set-output name=MY_OUTPUT_VARIABLE::$(echo $RANDOM)"
